{"version":3,"sources":["webpack:///./src/assets/plus.svg","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?7bdc","webpack:///./src/components/Navbar.vue","webpack:///src/components/Bbox.vue","webpack:///./src/components/Bbox.vue?518a","webpack:///./src/components/Bbox.vue","webpack:///src/components/Workspace.vue","webpack:///./src/components/Workspace.vue?6df7","webpack:///./src/components/Workspace.vue","webpack:///src/components/Album.vue","webpack:///./src/components/Album.vue?f873","webpack:///./src/components/Album.vue","webpack:///src/components/ClassItem.vue","webpack:///./src/components/ClassItem.vue?d656","webpack:///./src/components/ClassItem.vue","webpack:///src/components/NewClass.vue","webpack:///./src/components/NewClass.vue?5cee","webpack:///./src/components/NewClass.vue","webpack:///src/components/ControlPanel.vue","webpack:///./src/components/ControlPanel.vue?728e","webpack:///./src/components/ControlPanel.vue","webpack:///src/App.vue","webpack:///./src/App.vue?c6b8","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["module","exports","Navbar","name","data","collapseVisiable","methods","toggleCollapse","this","exportBBoxs","format","_$store$state","$store","state","bboxs","classes","blob","Blob","stringify_default","type","url","URL","createObjectURL","download","importBBoxs","e","_this","console","log","files","target","reader","FileReader","onload","_JSON$parse","JSON","parse","result","commit","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","file","value","readAsText","err","return","fileName","eleLink","document","createElement","style","display","href","body","appendChild","click","removeChild","components_Navbar","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","on","class","show","for","change","$event","stopPropagation","staticRenderFns","src_components_Navbar","__webpack_require__","normalizeComponent","ssrContext","Bbox","props","isDragingP1","isDragingP2","isDragingBBox","computed","color","bbox","index","x1","y1","x2","y2","x","Math","min","y","width","abs","height","_interactable","interactable","currentBBoxIndex","selectBBox","dragBBox","biasX1","offsetX","biasY1","offsetY","biasX2","biasY2","drag","newAttr","addEventListener","stopDrag","removeEventListener","dragP1","_this2","dragP2","_this3","components_Bbox","staticStyle","fill","stroke-width","stroke","cursor","mousedown","_e","cx","cy","r","Workspace","creatingBBox","newBBoxX1","newBBoxY1","newBBoxX2","newBBoxY2","image","currentImageName","images","imageName","ret","entries_default","_ref","_ref2","slicedToArray_default","currentClassName","currentClassColor","newBBoxX","newBBoxY","newBBoxWidth","newBBoxHeight","createMode","updateImageSize","img","Image","addBBox","components","BoundingBox","Bbox_normalizeComponent","components_Workspace","directives","rawName","expression","src","load","preventDefault","xmlns","version","_l","key","src_components_Workspace","Workspace_normalizeComponent","Album","readFiles","dataTransfer","imageURL","window","push","selectImage","components_Album","dragover","drop","active","title","src_components_Album","Album_normalizeComponent","ClassItem","colorPickerVisiable","colorPickerPosX","colorPickerPoxY","get","className","set","val","_val$rgba","rgba","b","g","a","toggleClass","removeClass","showColorPicker","$el","offsetLeft","offsetTop","offsetHeight","hideColorPicker","Chrome","vue_color_min","components_ClassItem","background-color","_s","currentTarget","position","left","top","model","callback","$$v","src_components_ClassItem","ClassItem_normalizeComponent","NewClass","invalidClassName","round","random","reset","ok","typeof_default","_color$rgba","$emit","cancel","components_NewClass","visiable","tabindex","role","aria-hidden","placeholder","domProps","input","composing","ControlPanel","newClassVisiable","classlistVisiable","bboxlistVisiable","toggleClassList","toggleBBoxList","showNewClass","addClass","msg","toggleBBox","removeBBox","NewClass_normalizeComponent","components_ControlPanel","open","App","isControlPanelDraging","controlPanelDragingStartX","controlPanelDragingStartWidth","controlPanelWidth","startDragingControlPanel","clientX","dragingControlPanel","stopDragingControlPanel","ControlPanel_normalizeComponent","selectortype_template_index_0_src_App","draging","src_App","App_normalizeComponent","Vue","use","Vuex","store","Store","count","mutations","addImages","payload","addBBoxs","Array","concat","length","unselectBBox","updateBBox","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","splice","newObj","assign_default","addClasses","delete","selectClass","unselectClass","updateClass","config","productionTip","ondragover","ondrop","el","h"],"mappings":"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","file":"static/js/app.43637e957e875f60b91b.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNDAwIDQwMCI+DQogIDxsaW5lIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgIHkyPSIyMDAiIHgyPSIzNTAiIHkxPSIyMDAiIHgxPSI1MCIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSI4MCIgc3Ryb2tlPSIjZmZmIi8+DQogIDxsaW5lIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgeTI9IjM1MCIgeDI9IjIwMCIgeTE9IjUwIiB4MT0iMjAwIiBmaWxsLW9wYWNpdHk9Im51bGwiIHN0cm9rZS1vcGFjaXR5PSJudWxsIiBzdHJva2Utd2lkdGg9IjgwIiBzdHJva2U9IiNmZmYiLz4NCjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/plus.svg\n// module id = 1bhZ\n// module chunks = 1","<template>\r\n  <nav id=\"navbar\" class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n    <a class=\"navbar-brand\" href=\"#\">MyLabeler</a>\r\n    <button class=\"navbar-toggler\" type=\"button\" @click=\"toggleCollapse\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" :class=\"{show: collapseVisiable}\">\r\n      <ul class=\"navbar-nav mr-auto\">\r\n        <li class=\"nav-item\">\r\n          <label class=\"nav-link\" for=\"file-loader\">导入Bbox</label>\r\n          <input id=\"file-loader\" type=\"file\" @change=\"importBBoxs\">\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"javascript:void(0)\" @click.stop=\"exportBBoxs\">导出Bbox</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Navbar',\r\n  data() {\r\n    return {\r\n      collapseVisiable: false\r\n    }\r\n  },\r\n  methods: {\r\n    toggleCollapse() {\r\n      this.collapseVisiable = !this.collapseVisiable\r\n    },\r\n\r\n    exportBBoxs(format) {\r\n      let {bboxs, classes} = this.$store.state\r\n      let blob = new Blob([JSON.stringify({bboxs, classes})], {\r\n        type: 'text/plain'\r\n      })\r\n      let url = URL.createObjectURL(blob)\r\n      this.download(url, 'bboxs.json')\r\n    },\r\n\r\n    importBBoxs(e) {\r\n      console.log(e)\r\n      let files = e.target.files\r\n      let reader = new FileReader()\r\n      reader.onload = e => {\r\n        let {classes, bboxs} = JSON.parse(reader.result)\r\n        console.log(classes)\r\n        console.log(bboxs)\r\n\r\n        // TODO: 格式检查\r\n        this.$store.commit('addClasses', { classes })\r\n        this.$store.commit('addBBoxs', { bboxs })\r\n      }\r\n      for (let file of files) {\r\n        reader.readAsText(file, 'utf-8')\r\n      }\r\n    },\r\n    download(url, fileName) {\r\n      var eleLink = document.createElement('a')\r\n      eleLink.download = fileName\r\n      eleLink.style.display = 'none'\r\n      // 字符内容转变成blob地址\r\n      eleLink.href = url\r\n      // 触发点击\r\n      document.body.appendChild(eleLink)\r\n      eleLink.click()\r\n      // 然后移除\r\n      document.body.removeChild(eleLink)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\nlabel.nav-link {\r\n  margin-bottom: 0;\r\n}\r\n#file-loader {\r\n  display: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Navbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-lg navbar-dark bg-dark\",attrs:{\"id\":\"navbar\"}},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\"MyLabeler\")]),_vm._v(\" \"),_c('button',{staticClass:\"navbar-toggler\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleCollapse}},[_c('span',{staticClass:\"navbar-toggler-icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse navbar-collapse\",class:{show: _vm.collapseVisiable}},[_c('ul',{staticClass:\"navbar-nav mr-auto\"},[_c('li',{staticClass:\"nav-item\"},[_c('label',{staticClass:\"nav-link\",attrs:{\"for\":\"file-loader\"}},[_vm._v(\"导入Bbox\")]),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"file-loader\",\"type\":\"file\"},on:{\"change\":_vm.importBBoxs}})]),_vm._v(\" \"),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.exportBBoxs($event)}}},[_vm._v(\"导出Bbox\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e8c2c05\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e8c2c05\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Navbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e8c2c05\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Navbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navbar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <g>\r\n    <rect\r\n      :x=\"x\"\r\n      :y=\"y\"\r\n      :width=\"width\"\r\n      :height=\"height\"\r\n      style=\"fill: transparent; stroke-width: 2;\"\r\n      :style=\"{stroke: color}\"\r\n      @click=\"selectBBox\"\r\n    />\r\n    <rect\r\n      v-if=\"_interactable\"\r\n      :x=\"x\"\r\n      :y=\"y\"\r\n      :width=\"width\"\r\n      :height=\"height\"\r\n      style=\"fill: rgba(0, 0, 255, 0.1); cursor: move\"\r\n      @mousedown.stop=\"dragBBox\"\r\n    />\r\n    <circle\r\n      v-if=\"_interactable\"\r\n      :cx=\"x1\"\r\n      :cy=\"y1\"\r\n      r=\"4\"\r\n      style=\"cursor:nw-resize; stroke-width: 2; stroke:rgb(150, 150, 150); fill: #fff;\"\r\n      @mousedown.stop=\"dragP1\"\r\n    />\r\n    <circle\r\n      v-if=\"_interactable\"\r\n      :cx=\"x2\"\r\n      :cy=\"y2\"\r\n      r=\"4\"\r\n      style=\"cursor:nw-resize; stroke-width: 2; stroke:rgb(150, 150, 150); fill: #fff;\"\r\n      @mousedown.stop=\"dragP2\"\r\n    />\r\n  </g>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'BoundingBox',\r\n  props: ['index', 'interactable'],\r\n  data() {\r\n    return {\r\n      isDragingP1: false,\r\n      isDragingP2: false,\r\n      isDragingBBox: false\r\n    }\r\n  },\r\n  computed: {\r\n    color() {\r\n      let bbox = this.$store.state.bboxs[this.index]\r\n      let color = this.$store.state.classes[bbox.class]\r\n      if (typeof color === 'string') return color\r\n      else return 'transparent'\r\n    },\r\n    x1() {\r\n      return this.$store.state.bboxs[this.index].x1\r\n    },\r\n    y1() {\r\n      return this.$store.state.bboxs[this.index].y1\r\n    },\r\n    x2() {\r\n      return this.$store.state.bboxs[this.index].x2\r\n    },\r\n    y2() {\r\n      return this.$store.state.bboxs[this.index].y2\r\n    },\r\n    x() {\r\n      return Math.min(this.x1, this.x2)\r\n    },\r\n    y() {\r\n      return Math.min(this.y1, this.y2)\r\n    },\r\n    width() {\r\n      return Math.abs(this.x2 - this.x1)\r\n    },\r\n    height() {\r\n      return Math.abs(this.y2 - this.y1)\r\n    },\r\n    _interactable() {\r\n      return (\r\n        this.interactable && this.index === this.$store.state.currentBBoxIndex\r\n      )\r\n    }\r\n  },\r\n  methods: {\r\n    selectBBox() {\r\n      this.$store.commit('selectBBox', { index: this.index })\r\n    },\r\n    dragBBox(e) {\r\n      this.isDragingBBox = true\r\n      let biasX1 = e.offsetX - this.x1\r\n      let biasY1 = e.offsetY - this.y1\r\n      let biasX2 = e.offsetX - this.x2\r\n      let biasY2 = e.offsetY - this.y2\r\n\r\n      let drag = e => {\r\n        this.$store.commit('updateBBox', {\r\n          index: this.index,\r\n          newAttr: {\r\n            x1: e.offsetX - biasX1,\r\n            y1: e.offsetY - biasY1,\r\n            x2: e.offsetX - biasX2,\r\n            y2: e.offsetY - biasY2\r\n          }\r\n        })\r\n      }\r\n\r\n      let stopDrag = e => {\r\n        this.isDragingBBox = false\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', stopDrag)\r\n      }\r\n\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', stopDrag)\r\n    },\r\n\r\n    dragP1(e) {\r\n      this.isDragingP1 = true\r\n\r\n      let drag = e => {\r\n        this.$store.commit('updateBBox', {\r\n          index: this.index,\r\n          newAttr: { x1: e.offsetX, y1: e.offsetY }\r\n        })\r\n      }\r\n\r\n      let stopDrag = e => {\r\n        this.isDragingP1 = false\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', stopDrag)\r\n      }\r\n\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', stopDrag)\r\n    },\r\n    dragP2(e) {\r\n      this.isDragingP2 = true\r\n\r\n      let drag = e => {\r\n        this.$store.commit('updateBBox', {\r\n          index: this.index,\r\n          newAttr: { x2: e.offsetX, y2: e.offsetY }\r\n        })\r\n      }\r\n\r\n      let stopDrag = e => {\r\n        this.isDragingP2 = false\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', stopDrag)\r\n      }\r\n\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', stopDrag)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Bbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('rect',{staticStyle:{\"fill\":\"transparent\",\"stroke-width\":\"2\"},style:({stroke: _vm.color}),attrs:{\"x\":_vm.x,\"y\":_vm.y,\"width\":_vm.width,\"height\":_vm.height},on:{\"click\":_vm.selectBBox}}),_vm._v(\" \"),(_vm._interactable)?_c('rect',{staticStyle:{\"fill\":\"rgba(0, 0, 255, 0.1)\",\"cursor\":\"move\"},attrs:{\"x\":_vm.x,\"y\":_vm.y,\"width\":_vm.width,\"height\":_vm.height},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.dragBBox($event)}}}):_vm._e(),_vm._v(\" \"),(_vm._interactable)?_c('circle',{staticStyle:{\"cursor\":\"nw-resize\",\"stroke-width\":\"2\",\"stroke\":\"rgb(150, 150, 150)\",\"fill\":\"#fff\"},attrs:{\"cx\":_vm.x1,\"cy\":_vm.y1,\"r\":\"4\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.dragP1($event)}}}):_vm._e(),_vm._v(\" \"),(_vm._interactable)?_c('circle',{staticStyle:{\"cursor\":\"nw-resize\",\"stroke-width\":\"2\",\"stroke\":\"rgb(150, 150, 150)\",\"fill\":\"#fff\"},attrs:{\"cx\":_vm.x2,\"cy\":_vm.y2,\"r\":\"4\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.dragP2($event)}}}):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-051924f0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Bbox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-051924f0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Bbox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Bbox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Bbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-051924f0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Bbox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Bbox.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"workspace\">\r\n    <img\r\n      class=\"image\"\r\n      v-show=\"image.url !== '#'\"\r\n      :src=\"image.url\"\r\n      @load=\"updateImageSize\"\r\n      @mousedown.prevent\r\n    >\r\n    <svg\r\n      class=\"bboxs\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.1\"\r\n      :width=\"width\"\r\n      :height=\"height\"\r\n      @mousedown=\"addBBox\"\r\n    >\r\n      <BoundingBox\r\n        v-for=\"(bbox, index) in bboxs\"\r\n        :key=\"index\"\r\n        :interactable=\"createMode === false\"\r\n        :index=\"index\"\r\n      ></BoundingBox>\r\n      <rect\r\n        v-if=\"creatingBBox\"\r\n        :x=\"newBBoxX\"\r\n        :y=\"newBBoxY\"\r\n        :width=\"newBBoxWidth\"\r\n        :height=\"newBBoxHeight\"\r\n        :style=\"'fill: transparent; stroke-width: 2; stroke: ' + (currentClassColor || 'transparent')\"\r\n      ></rect>\r\n    </svg>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BoundingBox from './Bbox'\r\nexport default {\r\n  name: 'Workspace',\r\n  data() {\r\n    return {\r\n      width: 0,\r\n      height: 0,\r\n      creatingBBox: false,\r\n      newBBoxX1: 0,\r\n      newBBoxY1: 0,\r\n      newBBoxX2: 0,\r\n      newBBoxY2: 0\r\n    }\r\n  },\r\n  computed: {\r\n    image() {\r\n      let name = this.$store.state.currentImageName\r\n      if (name !== '') {\r\n        return this.$store.state.images[name]\r\n      } else {\r\n        return {\r\n          name: '',\r\n          url: '#'\r\n        }\r\n      }\r\n    },\r\n    bboxs() {\r\n      let imageName = this.$store.state.currentImageName\r\n      let bboxs = this.$store.state.bboxs\r\n      let ret = {}\r\n      for (let [index, bbox] of Object.entries(bboxs)) {\r\n        if (bbox.imageName === imageName) {\r\n          ret[index] = bbox\r\n        }\r\n      }\r\n      return ret\r\n    },\r\n    currentImageName() {\r\n      return this.$store.state.currentImageName\r\n    },\r\n    currentClassName() {\r\n      return this.$store.state.currentClassName\r\n    },\r\n    currentClassColor() {\r\n      return this.$store.state.classes[this.$store.state.currentClassName]\r\n    },\r\n    newBBoxX() {\r\n      return Math.min(this.newBBoxX1, this.newBBoxX2)\r\n    },\r\n    newBBoxY() {\r\n      return Math.min(this.newBBoxY1, this.newBBoxY2)\r\n    },\r\n    newBBoxWidth() {\r\n      return Math.abs(this.newBBoxX2 - this.newBBoxX1)\r\n    },\r\n    newBBoxHeight() {\r\n      return Math.abs(this.newBBoxY2 - this.newBBoxY1)\r\n    },\r\n    createMode() {\r\n      return this.$store.state.currentClassName !== ''\r\n    }\r\n  },\r\n  methods: {\r\n    updateImageSize(e) {\r\n      let img = e.target\r\n      if (img instanceof Image) {\r\n        this.width = img.width\r\n        this.height = img.height\r\n      }\r\n    },\r\n    addBBox(e) {\r\n      if (!this.createMode) {\r\n        this.$store.commit('unselectBBox')\r\n        return\r\n      }\r\n\r\n      this.creatingBBox = true\r\n      this.newBBoxX1 = e.offsetX\r\n      this.newBBoxY1 = e.offsetY\r\n      this.newBBoxX2 = e.offsetX\r\n      this.newBBoxY2 = e.offsetY\r\n\r\n      let drag = e => {\r\n        this.newBBoxX2 = e.offsetX\r\n        this.newBBoxY2 = e.offsetY\r\n      }\r\n\r\n      let stopDrag = e => {\r\n        this.creatingBBox = false\r\n        if (\r\n          this.newBBoxX1 !== this.newBBoxX2 &&\r\n          this.newBBoxY1 !== this.newBBoxY2\r\n        ) {\r\n          let bboxs = {\r\n            imageName: this.currentImageName,\r\n            class: this.currentClassName,\r\n            x1: this.newBBoxX1,\r\n            y1: this.newBBoxY1,\r\n            x2: this.newBBoxX2,\r\n            y2: this.newBBoxY2\r\n          }\r\n          this.$store.commit('addBBoxs', { bboxs })\r\n        }\r\n\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', stopDrag)\r\n      }\r\n\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', stopDrag)\r\n    }\r\n  },\r\n  components: {\r\n    BoundingBox\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n#workspace {\r\n  position: relative;\r\n}\r\n#workspace .image {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n#workspace .bboxs {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Workspace.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workspace\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.image.url !== '#'),expression:\"image.url !== '#'\"}],staticClass:\"image\",attrs:{\"src\":_vm.image.url},on:{\"load\":_vm.updateImageSize,\"mousedown\":function($event){$event.preventDefault();}}}),_vm._v(\" \"),_c('svg',{staticClass:\"bboxs\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"width\":_vm.width,\"height\":_vm.height},on:{\"mousedown\":_vm.addBBox}},[_vm._l((_vm.bboxs),function(bbox,index){return _c('BoundingBox',{key:index,attrs:{\"interactable\":_vm.createMode === false,\"index\":index}})}),_vm._v(\" \"),(_vm.creatingBBox)?_c('rect',{style:('fill: transparent; stroke-width: 2; stroke: ' + (_vm.currentClassColor || 'transparent')),attrs:{\"x\":_vm.newBBoxX,\"y\":_vm.newBBoxY,\"width\":_vm.newBBoxWidth,\"height\":_vm.newBBoxHeight}}):_vm._e()],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d436152\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Workspace.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d436152\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Workspace.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Workspace.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Workspace.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d436152\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Workspace.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Workspace.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul id=\"album\" @dragover.prevent @drop=\"readFiles\">\r\n    <li\r\n      class=\"image-file\"\r\n      v-for=\"(image, name) in images\"\r\n      :key=\"name\"\r\n      :class=\"{active: name == currentImageName}\"\r\n      :title=\"name\"\r\n      @click=\"selectImage(name)\"\r\n    >\r\n      <img :src=\"image.url\">\r\n    </li>\r\n  </ul>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Album',\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    currentImageName() {\r\n      return this.$store.state.currentImageName\r\n    },\r\n    images() {\r\n      return this.$store.state.images\r\n    }\r\n  },\r\n  methods: {\r\n    readFiles(e) {\r\n      let files = e.dataTransfer.files\r\n      let images = []\r\n      for (let file of files) {\r\n        let imageURL = window.URL.createObjectURL(file)\r\n        var img = new Image()\r\n        img.src = imageURL\r\n\r\n        let image = {\r\n          name: file.name,\r\n          url: imageURL\r\n        }\r\n        images.push(image)\r\n      }\r\n      this.$store.commit('addImages', { images })\r\n    },\r\n    selectImage(name) {\r\n      this.$store.commit('selectImage', { name })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n#album {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 0;\r\n  height: 100%;\r\n  padding: 0;\r\n  min-width: 100%;\r\n  background-color: rgba(40, 44, 52);\r\n  /* border-top: 2px rgb(71, 74, 79) solid; */\r\n  list-style: none;\r\n}\r\n\r\n#album .image-file {\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 160px;\r\n  background-color: rgba(40, 44, 52);\r\n  border: 1px rgb(71, 74, 79) solid;\r\n}\r\n\r\n#album .image-file.active {\r\n  border: 2px rgb(82, 139, 255) solid;\r\n  border-radius: 2px;\r\n}\r\n\r\n#album .image-file img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\n/* #album .image-file .file-name{\r\n  width: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  padding: 4px 6px;\r\n  background-color: rgba(0,0,0,0.2);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  color:white;\r\n  font-size: small;\r\n} */\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Album.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{attrs:{\"id\":\"album\"},on:{\"dragover\":function($event){$event.preventDefault();},\"drop\":_vm.readFiles}},_vm._l((_vm.images),function(image,name){return _c('li',{key:name,staticClass:\"image-file\",class:{active: name == _vm.currentImageName},attrs:{\"title\":name},on:{\"click\":function($event){return _vm.selectImage(name)}}},[_c('img',{attrs:{\"src\":image.url}})])}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71b18270\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Album.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71b18270\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Album.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Album.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Album.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71b18270\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Album.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Album.vue\n// module id = null\n// module chunks = ","<template>\r\n  <li class=\"class-item\" :class=\"{active: active}\" @click=\"toggleClass\">\r\n    <div class=\"color\" :style=\"{'background-color': color}\" @click.stop=\"showColorPicker\"></div>\r\n    <div class=\"name\">{{className}}</div>\r\n    <div class=\"delete\" @click=\"removeClass\">&times;</div>\r\n    <div v-if=\"colorPickerVisiable\" class=\"overlay\" @click.self.stop=\"hideColorPicker\">\r\n      <Chrome\r\n        v-model=\"color\"\r\n        style=\"position: absolute;\"\r\n        :style=\"{left: colorPickerPosX + 'px', top: colorPickerPoxY + 'px'}\"\r\n      />\r\n    </div>\r\n  </li>\r\n</template>\r\n<script>\r\nimport { Chrome } from 'vue-color'\r\n\r\nexport default {\r\n  props: ['className'],\r\n  data() {\r\n    return {\r\n      colorPickerVisiable: false,\r\n      colorPickerPosX: 0,\r\n      colorPickerPoxY: 0\r\n    }\r\n  },\r\n  computed: {\r\n    color: {\r\n      get() {\r\n        return this.$store.state.classes[this.className] || 'transparent'\r\n      },\r\n      set(val) {\r\n        let { r, b, g, a } = val.rgba\r\n        this.$store.commit('updateClass', {\r\n          name: this.className,\r\n          color: `rgba(${r}, ${g}, ${b}, ${a})`\r\n        })\r\n      }\r\n    },\r\n    active() {\r\n      return this.className === this.$store.state.currentClassName\r\n    }\r\n  },\r\n  methods: {\r\n    toggleClass() {\r\n      let name = this.className\r\n      if (this.active) this.$store.commit('unselectClass')\r\n      else this.$store.commit('selectClass', { name })\r\n    },\r\n    removeClass() {\r\n      this.$store.commit('removeClass', { name: this.className })\r\n    },\r\n    showColorPicker() {\r\n      this.colorPickerPosX = this.$el.offsetLeft + 10\r\n      this.colorPickerPoxY = this.$el.offsetTop + this.$el.offsetHeight\r\n      this.colorPickerVisiable = true\r\n    },\r\n    hideColorPicker() {\r\n      this.colorPickerVisiable = false\r\n    }\r\n  },\r\n  components: {\r\n    Chrome\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.class-item .color {\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  margin-right: 8px;\r\n}\r\n\r\n.class-item .color:hover {\r\n  border: 2px #87cfff solid;\r\n  cursor: pointer;\r\n}\r\n\r\n.class-item .name {\r\n  flex-grow: 1;\r\n  font-size: 14px;\r\n}\r\n\r\n.class-item .delete {\r\n  cursor: pointer;\r\n  /* margin: 8px; */\r\n}\r\n\r\n.class-item .delete:hover {\r\n  color: white;\r\n  /* margin: 8px; */\r\n}\r\n\r\n.class-item .overlay {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ClassItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"class-item\",class:{active: _vm.active},on:{\"click\":_vm.toggleClass}},[_c('div',{staticClass:\"color\",style:({'background-color': _vm.color}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showColorPicker($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.className))]),_vm._v(\" \"),_c('div',{staticClass:\"delete\",on:{\"click\":_vm.removeClass}},[_vm._v(\"×\")]),_vm._v(\" \"),(_vm.colorPickerVisiable)?_c('div',{staticClass:\"overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.hideColorPicker($event)}}},[_c('Chrome',{staticStyle:{\"position\":\"absolute\"},style:({left: _vm.colorPickerPosX + 'px', top: _vm.colorPickerPoxY + 'px'}),model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2908a54a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ClassItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2908a54a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ClassItem.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ClassItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ClassItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2908a54a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ClassItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ClassItem.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div\r\n    class=\"modal\"\r\n    :class=\"{show: visiable}\"\r\n    :style=\"{display: visiable ? 'block': 'none'}\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    @click.self.stop=\"cancel\"\r\n  >\r\n    <div class=\"modal-dialog modal-sm\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">新的类别</h5>\r\n          <button type=\"button\" class=\"close\" @click=\"cancel\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"form-group\">\r\n            <label>类别名称</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control form-control-sm\"\r\n              placeholder=\"类别名称\"\r\n              v-model=\"className\"\r\n            >\r\n            <small v-if=\"invalidClassName\" class=\"error-msg form-text text-muted\">类别名称不能为空</small>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>颜色</label>\r\n            <Chrome class=\"color-picker\" v-model=\"color\"/>\r\n            <!-- <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"#aabbcc\" v-model=\"color\"> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"ok\">确定</button>\r\n          <button type=\"button\" class=\"btn btn-sm btn-secondary\" @click=\"cancel\">取消</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Chrome } from 'vue-color'\r\nexport default {\r\n  props: ['visiable'],\r\n  data() {\r\n    return {\r\n      className: '',\r\n      invalidClassName: false,\r\n      color: `rgb(${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)})`\r\n    }\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.invalidClassName = false\r\n      this.className = ''\r\n      this.color = `rgb(${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)})`\r\n    },\r\n    ok() {\r\n      if (this.className === '') {\r\n        this.invalidClassName = true\r\n        return\r\n      }\r\n      let name = this.className\r\n      let color = this.color\r\n      if (typeof color === 'object') {\r\n        let { r, g, b, a } = color.rgba\r\n        color = `rgba(${r}, ${g}, ${b}, ${a})`\r\n      }\r\n\r\n      this.$emit('ok', { name, color })\r\n      this.reset()\r\n    },\r\n    cancel() {\r\n      this.$emit('cancel')\r\n      this.reset()\r\n    }\r\n  },\r\n  components: {\r\n    Chrome\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.modal {\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  color: initial;\r\n}\r\n\r\n.color-picker {\r\n  width: 100%;\r\n  box-shadow: none;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 2px;\r\n}\r\n\r\n.error-msg {\r\n  color: red !important;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/NewClass.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",class:{show: _vm.visiable},style:({display: _vm.visiable ? 'block': 'none'}),attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.cancel($event)}}},[_c('div',{staticClass:\"modal-dialog modal-sm\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"新的类别\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancel}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"类别名称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.className),expression:\"className\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"placeholder\":\"类别名称\"},domProps:{\"value\":(_vm.className)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.className=$event.target.value}}}),_vm._v(\" \"),(_vm.invalidClassName)?_c('small',{staticClass:\"error-msg form-text text-muted\"},[_vm._v(\"类别名称不能为空\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"颜色\")]),_vm._v(\" \"),_c('Chrome',{staticClass:\"color-picker\",model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.ok}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-sm btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4fc93d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NewClass.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4fc93d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewClass.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewClass.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewClass.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4fc93d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewClass.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a4fc93d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NewClass.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"control-panel\">\r\n    <h1>控制面板</h1>\r\n    <div id=\"class-list\" :class=\"{open:classlistVisiable}\">\r\n      <div class=\"header\" @click=\"toggleClassList\">\r\n        <div class=\"indicator\" :class=\"{open:classlistVisiable}\"></div>\r\n        <div class=\"header-title\">类型</div>\r\n        <img class=\"operator\" src=\"../assets/plus.svg\" @click.stop=\"showNewClass\">\r\n      </div>\r\n      <div v-show=\"classlistVisiable\" class=\"list-content\">\r\n        <ul class=\"list\">\r\n          <ClassItem\r\n            class=\"list-item\"\r\n            v-for=\"(color, className) in classes\"\r\n            :key=\"className\"\r\n            :className=\"className\"\r\n          />\r\n        </ul>\r\n      </div>\r\n      <NewClass :visiable=\"newClassVisiable\" @ok=\"addClass\" @cancel=\"newClassVisiable=false\"/>\r\n    </div>\r\n    <div id=\"bbox-list\" :class=\"{open:bboxlistVisiable}\">\r\n      <div class=\"header\" @click=\"toggleBBoxList\">\r\n        <div class=\"indicator\" :class=\"{open:bboxlistVisiable}\"></div>\r\n        <div class=\"header-title\">边界框</div>\r\n      </div>\r\n      <div v-show=\"bboxlistVisiable\" class=\"list-content\">\r\n        <ul class=\"list\">\r\n          <li\r\n            class=\"list-item\"\r\n            v-for=\"(bbox, index) in bboxs\"\r\n            :key=\"index\"\r\n            :class=\"{active: index === currentBBoxIndex}\"\r\n            @click=\"toggleBBox(index)\"\r\n          >\r\n            <div class=\"index\">{{index}}</div>\r\n            <div class=\"name\" :style=\"{color: classes[bbox.class] || 'gray'}\">{{bbox.class}}</div>\r\n            <div class=\"pos\">{{`(${bbox.x1}, ${bbox.y1}, ${bbox.x2}, ${bbox.y2})`}}</div>\r\n            <div class=\"delete\" @click.stop=\"removeBBox(index)\">&times;</div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ClassItem from './ClassItem'\r\nimport NewClass from './NewClass'\r\nexport default {\r\n  name: 'ControlPanel',\r\n  data() {\r\n    return {\r\n      newClassVisiable: false,\r\n      classlistVisiable: true,\r\n      bboxlistVisiable: true\r\n    }\r\n  },\r\n  computed: {\r\n    classes() {\r\n      return this.$store.state.classes\r\n    },\r\n    currentClassName() {\r\n      return this.$store.state.currentClassName\r\n    },\r\n    bboxs() {\r\n      let imageName = this.$store.state.currentImageName\r\n      let bboxs = this.$store.state.bboxs\r\n      let ret = {}\r\n      for (let [index, bbox] of Object.entries(bboxs)) {\r\n        if (bbox.imageName === imageName) {\r\n          ret[index] = bbox\r\n        }\r\n      }\r\n      return ret\r\n    },\r\n    currentBBoxIndex() {\r\n      return this.$store.state.currentBBoxIndex\r\n    }\r\n  },\r\n  methods: {\r\n    toggleClassList() {\r\n      this.classlistVisiable = !this.classlistVisiable\r\n    },\r\n    toggleBBoxList() {\r\n      this.bboxlistVisiable = !this.bboxlistVisiable\r\n    },\r\n    showNewClass() {\r\n      this.newClassVisiable = true\r\n    },\r\n    addClass(msg) {\r\n      this.newClassVisiable = false\r\n      this.$store.commit('addClass', msg)\r\n    },\r\n    toggleBBox(index) {\r\n      if (this.currentBBoxIndex === index) {\r\n        index = -1\r\n      }\r\n      this.$store.commit('selectBBox', { index })\r\n    },\r\n    removeBBox(index) {\r\n      this.$store.commit('removeBBox', { index })\r\n    }\r\n  },\r\n  components: {\r\n    ClassItem,\r\n    NewClass\r\n  }\r\n}\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n#control-panel {\r\n  width: 100%;\r\n  color: rgb(204, 204, 204);\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n#control-panel h1 {\r\n  font-size: medium;\r\n  margin: 10px 12px;\r\n}\r\n\r\n#new-class {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n#class-list,\r\n#bbox-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n#class-list.open,\r\n#bbox-list.open {\r\n  flex-grow: 1;\r\n}\r\n\r\n.header {\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 4px 8px;\r\n  background-color: rgb(51, 56, 66);\r\n  font-size: small;\r\n}\r\n.header .indicator {\r\n  width: 0;\r\n  height: 0;\r\n  border: 4px transparent solid;\r\n  border-left: 4px rgb(204, 204, 204) solid;\r\n  margin-right: 4px;\r\n}\r\n.header .indicator.open {\r\n  border: 3px transparent solid;\r\n  border-right: 3px rgb(204, 204, 204) solid;\r\n  border-bottom: 3px rgb(204, 204, 204) solid;\r\n  margin-right: 6px;\r\n}\r\n\r\n.header .header-title {\r\n  flex-grow: 1;\r\n}\r\n\r\n.header .operator {\r\n  width: 10px;\r\n  height: 10px;\r\n  opacity: 0.5;\r\n  cursor: pointer;\r\n}\r\n\r\n.header .operator:hover {\r\n  opacity: 1;\r\n}\r\n.list-content {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n}\r\n\r\n.list {\r\n  padding: 0;\r\n  margin: 0;\r\n  list-style: none;\r\n}\r\n\r\n.list .list-item {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 4px 8px;\r\n}\r\n\r\n.list .list-item.active {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.list .list-item .index {\r\n  width: 40px;\r\n  font-size: 14px;\r\n}\r\n\r\n.list .list-item .pos {\r\n  flex-shrink: 1;\r\n  font-size: 12px;\r\n  margin-right: 6px;\r\n}\r\n\r\n.list .list-item .delete {\r\n  cursor: pointer;\r\n  /* margin: 8px; */\r\n}\r\n\r\n.list .list-item .delete:hover {\r\n  color: white;\r\n  /* margin: 8px; */\r\n}\r\n\r\n#bbox-list .name {\r\n  flex-grow: 1;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ControlPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"control-panel\"}},[_c('h1',[_vm._v(\"控制面板\")]),_vm._v(\" \"),_c('div',{class:{open:_vm.classlistVisiable},attrs:{\"id\":\"class-list\"}},[_c('div',{staticClass:\"header\",on:{\"click\":_vm.toggleClassList}},[_c('div',{staticClass:\"indicator\",class:{open:_vm.classlistVisiable}}),_vm._v(\" \"),_c('div',{staticClass:\"header-title\"},[_vm._v(\"类型\")]),_vm._v(\" \"),_c('img',{staticClass:\"operator\",attrs:{\"src\":require(\"../assets/plus.svg\")},on:{\"click\":function($event){$event.stopPropagation();return _vm.showNewClass($event)}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.classlistVisiable),expression:\"classlistVisiable\"}],staticClass:\"list-content\"},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.classes),function(color,className){return _c('ClassItem',{key:className,staticClass:\"list-item\",attrs:{\"className\":className}})}),1)]),_vm._v(\" \"),_c('NewClass',{attrs:{\"visiable\":_vm.newClassVisiable},on:{\"ok\":_vm.addClass,\"cancel\":function($event){_vm.newClassVisiable=false}}})],1),_vm._v(\" \"),_c('div',{class:{open:_vm.bboxlistVisiable},attrs:{\"id\":\"bbox-list\"}},[_c('div',{staticClass:\"header\",on:{\"click\":_vm.toggleBBoxList}},[_c('div',{staticClass:\"indicator\",class:{open:_vm.bboxlistVisiable}}),_vm._v(\" \"),_c('div',{staticClass:\"header-title\"},[_vm._v(\"边界框\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bboxlistVisiable),expression:\"bboxlistVisiable\"}],staticClass:\"list-content\"},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.bboxs),function(bbox,index){return _c('li',{key:index,staticClass:\"list-item\",class:{active: index === _vm.currentBBoxIndex},on:{\"click\":function($event){return _vm.toggleBBox(index)}}},[_c('div',{staticClass:\"index\"},[_vm._v(_vm._s(index))]),_vm._v(\" \"),_c('div',{staticClass:\"name\",style:({color: _vm.classes[bbox.class] || 'gray'})},[_vm._v(_vm._s(bbox.class))]),_vm._v(\" \"),_c('div',{staticClass:\"pos\"},[_vm._v(_vm._s((\"(\" + (bbox.x1) + \", \" + (bbox.y1) + \", \" + (bbox.x2) + \", \" + (bbox.y2) + \")\")))]),_vm._v(\" \"),_c('div',{staticClass:\"delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeBBox(index)}}},[_vm._v(\"×\")])])}),0)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0adf19c4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ControlPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0adf19c4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ControlPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ControlPanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ControlPanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0adf19c4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ControlPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ControlPanel.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <Navbar/>\r\n    <div id=\"panels\">\r\n      <div id=\"main-panel\">\r\n        <div id=\"content-workspace\">\r\n          <Workspace/>\r\n        </div>\r\n        <div id=\"content-album\">\r\n          <Album/>\r\n        </div>\r\n      </div>\r\n      <div id=\"content-control-panel\" :style=\"{width: controlPanelWidth + 'px'}\">\r\n        <div\r\n          id=\"handle-control-panel\"\r\n          :class=\"{draging: isControlPanelDraging}\"\r\n          @mousedown=\"startDragingControlPanel\"\r\n        ></div>\r\n        <ControlPanel/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import Workspace from \"./components/Workspace\";\r\nimport Navbar from './components/Navbar'\r\nimport Workspace from './components/Workspace'\r\nimport Album from './components/Album'\r\nimport ControlPanel from './components/ControlPanel'\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      isControlPanelDraging: false,\r\n      controlPanelDragingStartX: 0,\r\n      controlPanelDragingStartWidth: 0,\r\n      controlPanelWidth: 300\r\n    }\r\n  },\r\n  methods: {\r\n    startDragingControlPanel(e) {\r\n      this.isControlPanelDraging = true\r\n      this.controlPanelDragingStartWidth = this.controlPanelWidth\r\n      this.controlPanelDragingStartX = e.clientX\r\n\r\n      let dragingControlPanel = e => {\r\n        this.controlPanelWidth =\r\n          this.controlPanelDragingStartX -\r\n          e.clientX +\r\n          this.controlPanelDragingStartWidth\r\n      }\r\n\r\n      let stopDragingControlPanel = e => {\r\n        this.isControlPanelDraging = false\r\n        this.controlPanelDragingStartX = 0\r\n        document.removeEventListener('mousemove', dragingControlPanel)\r\n        document.removeEventListener('mouseup', stopDragingControlPanel)\r\n      }\r\n\r\n      document.addEventListener('mousemove', dragingControlPanel)\r\n      document.addEventListener('mouseup', stopDragingControlPanel)\r\n    }\r\n  },\r\n  components: {\r\n    Navbar,\r\n    Workspace,\r\n    Album,\r\n    ControlPanel\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  padding: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#app {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 255, 0, 0.2);\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n#panels {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1;\r\n  width: 100%;\r\n}\r\n\r\n#main-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n#content-workspace {\r\n  flex: 1;\r\n  background-color: rgb(33, 37, 43);\r\n  overflow: auto;\r\n}\r\n\r\n#content-album {\r\n  width: 100%;\r\n  height: 120px;\r\n  overflow-x: auto;\r\n}\r\n\r\n#content-control-panel {\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  height: 100%;\r\n  background-color: rgb(40, 44, 52);\r\n\r\n}\r\n\r\n#handle-control-panel {\r\n  width: 3px;\r\n  height: 100%;\r\n  background-color: rgb(71, 74, 79);\r\n  cursor: e-resize;\r\n}\r\n\r\n#handle-control-panel.draging {\r\n  background-color: rgb(79, 175, 239);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Navbar'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"panels\"}},[_c('div',{attrs:{\"id\":\"main-panel\"}},[_c('div',{attrs:{\"id\":\"content-workspace\"}},[_c('Workspace')],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"content-album\"}},[_c('Album')],1)]),_vm._v(\" \"),_c('div',{style:({width: _vm.controlPanelWidth + 'px'}),attrs:{\"id\":\"content-control-panel\"}},[_c('div',{class:{draging: _vm.isControlPanelDraging},attrs:{\"id\":\"handle-control-panel\"},on:{\"mousedown\":_vm.startDragingControlPanel}}),_vm._v(\" \"),_c('ControlPanel')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17d7f669\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17d7f669\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17d7f669\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vuex from 'vuex'\r\nimport Vue from 'vue'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    count: 0,\r\n    images: {},\r\n    currentImageName: '',\r\n\r\n    bboxs: [],\r\n    currentBBoxIndex: -1,\r\n\r\n    classes: {\r\n      // c1: '#f00',\r\n      // c2: '#0f0',\r\n      // c3: '#00f'\r\n    },\r\n    currentClassName: ''\r\n  },\r\n  mutations: {\r\n    addImages(state, payload) {\r\n      var { images } = payload\r\n      for (let image of images) {\r\n        Vue.set(state.images, image.name, image)\r\n      }\r\n    },\r\n\r\n    selectImage(state, payload) {\r\n      var { name } = payload\r\n      if (name in state.images) {\r\n        state.currentImageName = name\r\n      }\r\n    },\r\n\r\n    addBBoxs(state, payload) {\r\n      var { bboxs } = payload\r\n      if (bboxs instanceof Array) {\r\n        state.bboxs = state.bboxs.concat(bboxs)\r\n      } else {\r\n        state.bboxs.push(bboxs)\r\n      }\r\n    },\r\n\r\n    selectBBox(state, payload) {\r\n      var { index } = payload\r\n      if (index >= -1 && index < state.bboxs.length) {\r\n        state.currentBBoxIndex = index\r\n        state.currentClassName = ''\r\n      }\r\n    },\r\n    unselectBBox(state) {\r\n      state.currentBBoxIndex = -1\r\n    },\r\n\r\n    updateBBox(state, payload) {\r\n      let { index, newAttr } = payload\r\n      for (let [key, value] of Object.entries(newAttr)) {\r\n        state.bboxs[index][key] = value\r\n      }\r\n    },\r\n\r\n    removeBBox(state, payload) {\r\n      var { index } = payload\r\n      if (index >= -1 && index < state.bboxs.length) {\r\n        state.bboxs.splice(index, 1)\r\n        if (index < state.currentBBoxIndex) {\r\n          state.currentBBoxIndex = -1\r\n        }\r\n      }\r\n    },\r\n\r\n    addClass(state, payload) {\r\n      let { name, color } = payload\r\n      let newObj = {}\r\n      newObj[name] = color\r\n      if (!(name in state.classes)) {\r\n        state.classes = Object.assign({}, state.classes, newObj)\r\n      }\r\n    },\r\n    addClasses(state, payload) {\r\n      let {classes} = payload\r\n      state.classes = Object.assign({}, state.classes, classes)\r\n    },\r\n\r\n    removeClass(state, payload) {\r\n      let { name } = payload\r\n      Vue.delete(state.classes, name)\r\n    },\r\n\r\n    selectClass(state, payload) {\r\n      let { name } = payload\r\n      if (name in state.classes) {\r\n        state.currentClassName = name\r\n        state.currentBBoxIndex = -1\r\n      }\r\n    },\r\n\r\n    unselectClass(state) {\r\n      state.currentClassName = ''\r\n    },\r\n\r\n    updateClass(state, payload) {\r\n      let { name, color } = payload\r\n      let newObj = {}\r\n      newObj[name] = color\r\n      if (name in state.classes) {\r\n        state.classes = Object.assign({}, state.classes, newObj)\r\n      }\r\n    }\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store/index.js'\r\n\r\nVue.config.productionTip = false\r\n\r\ndocument.ondragover = function (e) {\r\n  // 只有在ondragover中阻止默认行为\r\n  // 才能触发ondrop而不是ondragleave\r\n  e.preventDefault()\r\n}\r\ndocument.ondrop = function (e) {\r\n  // 阻止 document.ondrop的默认行为:在新窗口中打开拖进的图片\r\n  e.preventDefault()\r\n}\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  store,\r\n  el: '#app',\r\n  render: h => h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}